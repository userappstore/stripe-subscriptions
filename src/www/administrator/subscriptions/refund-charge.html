<!doctype html>
<html navbar="/administrator/subscriptions/navbar.html">
  <head>
    <title>Refund charge</title>
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <link rel="stylesheet" href="/public/pure-min.css" />
    <link rel="stylesheet" href="/public/content.css" />
		<base href="/" target="_top" />
  </head>
  <body>
    <h1>Refund charge</h1>
    <div id="messageContainer"></div>
    <table id="charges-table" class="pure-table pure-table-striped">
      <thead>
        <tr>
          <th>ID</th>
          <th>Customer</th>
          <th>Paid</th>
          <th>Amount</th>
          <th>Amount refunded</th>
          <th>Date</th>
          <th></th>
        </tr>
      </thead>
    </table>    
    <form id="submitForm" method="POST" class="pure-form pure-form-stacked">
      <div class="pure-control-group">
        <label for="amount">Amount</label>
        <input require id="amount" name="amount" type="text" size="5" />
      </div>
      <button id="submitButton" class="pure-button pure-button-primary" type="button">Refund</button>
    </form>
  </body>
  <template id="charge-row-template">
    <tr id="${id}">
      <td><a href="charge?chargeid=${id}">${id}</a></td>
      <td><a href="customer?customerid=${customer}">${customer}</a></td>
      <td>${paid}</td>
      <td>${amountFormatted}</td>
      <td>${amountRefundedFormatted}</td>
      <td title="${date}">${dateRelative}</td>
      <td class="pure-button-group" role="group">
        <a class="pure-button" href="view_invoice?cardid=${id}">View invoice</a>
        <a class="pure-button" href="delete_card?cardid=${id}">Download</a>
      </td>
    </tr>
  </template>
  <template id="success">
    <div class="success message" error="success">The charge has been refunded.</div>
  </template>
  <template id="unknown-error">
    <div class="error message" error="unknown-error">Error!  An error ocurred refunding the charge.</div>
  </template>
  <template id="invalid-amount">
    <div class="error message" error="invalid amount">Error!  The refund amount cannot be negative or exceed the charge balance.</div>
  </template>
</html>