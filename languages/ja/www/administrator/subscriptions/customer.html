<!DOCTYPE html>
<html lang="en" data-navbar="/administrator/subscriptions/navbar-customer.html">
<head>
  <meta charset="utf-8" /> 
  <title translate="yes">見る ${customer.id}</title>
  <link rel="stylesheet" href="/public/pure-min.css">
  <link rel="stylesheet" href="/public/content.css">
  <link rel="stylesheet" href="/public/content-additional.css">
  <base href="/" target="_top">
</head>
<body>
  <h1 translate="yes">見る ${customer.id}</h1>
  <table id="customers-table" class="pure-table data-table">
    <tbody id="${customer.id}">
      <tr>
        <th>ID</th>
        <td>
          <a href="/administrator/subscriptions/customer?customerid=${customer.id}">${customer.id}</a>
        </td>
      </tr>
      <tr>
        <th translate="yes">顧客のメール</th>
        <td>
          <a href="mailto:${customer.email}">${customer.email}</a>
        </td>
      </tr>
      <tr>
        <th translate="yes">アカウントID</th>
        <td>
          <a href="/administrator/account?accountid=${customer.metadata.accountid}">${customer.metadata.accountid}</a>
        </td>
      </tr>
      <tr>
        <th translate="yes">アカウント</th>
        <td>${customer.account.firstName} ${customer.account.lastName}</td>
      </tr>
      <tr>
        <th translate="yes">アカウントのメール</th>
        <td>
          <a href="mailto:${customer.account.email}">${customer.account.email}</a>
        </td>
      </tr>
      <tr id="discount">
        <th translate="yes">ディスカウント</th>
        <td>${customer.discount.coupon.id}</td>
      </tr>
      <tr id="account-balance">
        <th translate="yes">勘定残高</th>
        <td>${customer.account_balanceFormatted}</td>
      </tr>
      <tr id="delinquent-amount">
        <th translate="yes">滞納額</th>
        <td>${customer.delinquentFormatted}</td>
      </tr>
      <tr>
        <th translate="yes">作成した</th>
        <td>${customer.createdFormatted}</td>
      </tr>
    </tbody>
  </table>
  <div id="subscriptions-container">
    <h2 translate="yes">定期購入</h2>
    <table id="subscriptions-table" class="pure-table pure-table-striped list-table">
      <thead>
        <tr>
          <th>ID</th>
          <th translate="yes">お客様</th>
          <th translate="yes">当期</th>
          <th translate="yes">ディスカウント</th>
          <th translate="yes">予定</th>
          <th translate="yes">状態</th>
          <th translate="yes">作成した</th>
        </tr>
      </thead>
    </table>
  </div>
  <div id="invoices-container">
    <h2 translate="yes">請求書</h2>
    <table id="invoices-table" class="pure-table pure-table-striped list-table">
      <thead>
        <tr>
          <th>ID</th>
          <th translate="yes">お客様</th>
          <th translate="yes">申し込み</th>
          <th translate="yes">支払請求周期</th>
          <th translate="yes">合計</th>
          <th translate="yes">日付</th>
          <th translate="yes">状態</th>
        </tr>
      </thead>
    </table>
  </div>
  <template id="invoice-row">
    <tr id="${invoice.id}">
      <td>
        <a href="/administrator/subscriptions/invoice?invoiceid=${invoice.id}">${invoice.id}</a>
      </td>
      <td>
        <a href="/administrator/subscriptions/customer?customerid=${invoice.customer}">${invoice.customer}</a>
      </td>
      <td>
        <a href="/administrator/subscriptions/subscription?subscriptionid=${invoice.subscription}">${invoice.subscription}</a>
      </td>
      <td>${invoice.lines.data[invoice.lines.data.length - 1].period.startFormatted} - ${invoice.lines.data[invoice.lines.data.length - 1].period.endFormatted}</td>
      <td>${invoice.totalFormatted}</td>
      <td>${invoice.createdFormatted}</td>
      <td id="paid-${invoice.id}">Paid</td>
      <td id="open-${invoice.id}">Waiting payment</td>
    </tr>
  </template>
  <template id="subscription-row">
    <tr id="${subscription.id}">
      <td>
        <a href="/administrator/subscriptions/subscription?subscriptionid=${subscription.id}">${subscription.id}</a>
      </td>
      <td>
        <a href="/administrator/subscriptions/customer?customerid=${subscription.customer.id || subscription.customer}">${subscription.customer.id || subscription.customer}</a>
      </td>
      <td>${subscription.current_period_startFormatted} - ${subscription.current_period_endFormatted}</td>
      <td>${subscription.discount}</td>
      <td>
        <a href="/administrator/subscriptions/plan?planid=${subscription.plan}">${subscription.plan.id}</a>
      </td>
      <td id="active-subscription-${subscription.id}">Active</td>
      <td id="canceling-subscription-${subscription.id}">Active (canceling)</td>
      <td id="trialing-subscription-${subscription.id}">Trial ending ${subscription.trial_endFormatted}</td>
      <td id="past_due-subscription-${subscription.id}">Past due</td>
      <td id="canceled-subscription-${subscription.id}">Canceled</td>
      <td id="unpaid-subscription-${subscription.id}">Unpaid</td>
      <td>${subscription.createdFormatted}</td>
    </tr>
  </template>
</body>
</html>
